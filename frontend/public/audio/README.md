# 🎵 音频文件存储说明

## 📁 目录结构

```
frontend/public/audio/
├── music/           # 音乐文件
├── podcasts/        # 播客文件
├── interviews/      # 采访录音
├── background/      # 背景音乐
└── README.md        # 本说明文件
```

## 🎯 支持的音频格式

- **MP3** - 最兼容的格式，推荐使用
- **WAV** - 无损格式，文件较大
- **OGG** - 开源格式，压缩率高
- **M4A** - Apple设备兼容性好
- **FLAC** - 无损压缩格式

## 📝 文件命名规范

### 音乐文件
```
歌手名 - 歌曲名.mp3
例如：周杰伦 - 稻香.mp3
```

### 播客文件
```
播客名_第X期_主题.mp3
例如：科技播客_第001期_人工智能发展.mp3
```

### 采访录音
```
采访对象_主题_日期.mp3
例如：张三_创业经验分享_20241201.mp3
```

### 背景音乐
```
风格_用途_时长.mp3
例如：轻音乐_工作背景_3分钟.mp3
```

## 🚀 使用方法（当前方案：manifest + 内置播放列表）

项目前端不再遍历文件夹，而是优先从 `manifest.json` 读取音频清单，失败时回退到内置播放列表，保证页面总有可播音频。

### 1. 通过清单声明
编辑 `frontend/public/audio/manifest.json`：

```json
{
  "files": [
    {
      "id": "music-1",
      "name": "bgm.mp3",
      "title": "bgm",
      "artist": "",
      "src": "/audio/music/bgm.mp3",
      "type": "music",
      "format": "mp3"
    }
  ]
}
```

### 2. 放置文件
把音频文件放到 `frontend/public/audio/music/` 下即可被静态服务：

```
/audio/music/bgm.mp3
```

### 3. 自动播放与兜底
页面会尝试自动播放；若被浏览器阻止，会显示“点击开始播放”的提示层，用户点击即可播放。

## 📊 文件大小建议

- **背景音乐**: 1-3MB (适合循环播放)
- **歌曲**: 3-8MB (标准音质)
- **播客**: 5-15MB (语音内容)
- **采访**: 10-30MB (完整对话)

## 🔧 音频优化建议

### 1. 压缩设置
- **比特率**: 128kbps (语音) / 192kbps (音乐)
- **采样率**: 44.1kHz (标准)
- **声道**: 立体声 (音乐) / 单声道 (语音)

### 2. 文件管理
- 定期清理未使用的音频文件
- 使用有意义的文件名
- 添加标签和分类信息

### 3. 性能考虑
- 大文件考虑懒加载
- 使用适当的预加载策略
- 考虑CDN加速

## 🎨 自定义播放器

项目已提供完整的音频播放器组件：

```vue
<AudioPlayer 
  :playlist="playlist"
  :autoplay="false"
  :loop="true"
  @play="onPlay"
  @pause="onPause"
  @ended="onEnded"
/>
```

## 📱 移动端兼容性

- 支持触摸手势控制
- 响应式设计
- 移动端友好的控制界面

## 🚨 注意事项

1. **文件大小**: 避免上传过大的音频文件
2. **版权**: 确保音频文件有合法使用权限
3. **格式**: 优先使用MP3格式确保兼容性
4. **备份**: 重要音频文件请做好备份

## 🔗 相关链接

- [音频播放器组件](../src/components/AudioPlayer.vue)
- [音频管理工具](../src/utils/audioManager.ts)
- [性能优化指南](../PERFORMANCE_TESTING.md)

---

**提示**: 如需添加新的音频文件，建议：
- 将文件放入对应目录并更新 `manifest.json`
- 若不想维护清单，可直接在前端内置默认播放列表（见 `AudioLibrary.vue` 中的 `embeddedTracks`）
